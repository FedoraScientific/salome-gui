<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<HEAD>
<!-- hennerik CVSweb $Revision$ -->
<TITLE>Example</TITLE></HEAD>
<BODY BGCOLOR="#eeeeee">
<HR noshade><PRE>#%AttributeSequenceOfReal interface(creations/saving/restoring)%
#% AttributeSequenceOfReal &nbsp;: ChangeValue, Add, &nbsp;Value, &nbsp;Remove, &nbsp;Length%
#% SALOMEDS methods : FindOrCreateAttribute, SaveAs, FindComponent, FindAttribute, Open%

# &nbsp; &nbsp; &nbsp; create AttributeSequenceOfReal &nbsp; &nbsp; &nbsp;
#=================================
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(batchmode_geompy.father, &quot;AttributeSequenceOfReal&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeSequenceOfReal attribute&quot;
A = A._narrow(SALOMEDS.AttributeSequenceOfReal)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;_narrow returns None instead of AttributeSequenceOfReal pointer&quot;

A.Add(0.0293)
A.Add(625.1e+2)
A.Add(0.928e+100)
A.Add(83.287)

print &quot;initial values &quot;,A.Value(1), A.Value(2), A.Value(3), A.Value(4)
A.Remove(3)
print &quot;after remove &quot;, A.Value(1), A.Value(2), A.Value(3)
A.ChangeValue(2,76.265)
print &quot;after second item change&quot;, A.Value(1), A.Value(2), A.Value(3)

if A.Length() != 3:
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;Error : wrong length of SequenceOfReal&quot;
if A.Value(1) != 0.0293 or A.Value(2) != 76.265 or A.Value(3) != 83.287:
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;Error : wrong value of &nbsp;AttributeSequenceOfReal&quot;

# &nbsp; &nbsp; &nbsp;save / restore study &nbsp; &nbsp; &nbsp;
#=================================
str= os.getenv(&quot;TmpDir&quot;)
if str == None:
 &nbsp; &nbsp; &nbsp; &nbsp;str = &quot;/tmp&quot;
file = str+&quot;/test.hdf&quot;

batchmode_geompy.myStudyManager.SaveAs(file, batchmode_geompy.myStudy)
openedStudy=batchmode_geompy.myStudyManager.Open(file);

if openedStudy == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't open saved study!&quot;


father = openedStudy.FindComponent(&quot;GEOM&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;Geom component is not found! &nbsp;Wrong study is opened.&quot; 


# &nbsp; &nbsp; find AttributeSequenceOfReal
#=================================

res,A=father.FindAttribute(&quot;AttributeSequenceOfReal&quot;)
if res == 0 or A == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error: &nbsp;not found AttributeSequenceOfReal&quot;

A = A._narrow(SALOMEDS.AttributeSequenceOfReal)

if A.Length() != 3:
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;Error : wrong length of SequenceOfReal&quot;
if A.Value(1) != 0.0293 or A.Value(2) != 76.265 or A.Value(3) != 83.287:
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;Error : wrong value of &nbsp;AttributeSequenceOfReal&quot;
print &quot;after restoring &quot;, A.Value(1), A.Value(2), A.Value(3)
</PRE>