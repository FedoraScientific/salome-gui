<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<HEAD>
<!-- hennerik CVSweb $Revision$ -->
<TITLE>Exemple</TITLE></HEAD>
<BODY BGCOLOR="#eeeeee">
<HR noshade><PRE>
#^ SALOMEDS methods : &nbsp;FindOrCreateAttribute, Save, SaveAs, Close, Open, FindComponent, FindAttribute, FindObject, LoadWith^
#^ Attribute methods : Value, SetValue^
#======================================================================
#1. Create Study and add some components to it
#======================================================================

#=================================
# &nbsp; &nbsp; &nbsp; create AttributeReal &nbsp; &nbsp; &nbsp;
#=================================
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(batchmode_geompy.father, &quot;AttributeReal&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeReal attribute&quot;
A = A._narrow(SALOMEDS.AttributeReal)
A.SetValue(0.0001)
if A.Value() != 0.0001:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error : wrong value of &nbsp;AttributeReal&quot;

# === &nbsp;Geometry &nbsp;==================================================

import batchmode_geompy
 
#===================================
# &nbsp; &nbsp; define a box
#===================================

box = batchmode_geompy.MakeBox(0., 0., 0., 100., 200., 300.)
idbox = batchmode_geompy.addToStudy(box,&quot;box&quot;)


geom = batchmode_geompy.geom
import SMESH
import batchmode_smesh
ShapeType = batchmode_smesh.ShapeType

# ---- add first face of box in study

subShapeList = batchmode_geompy.SubShapeAll(box,ShapeType[&quot;Face&quot;])
face=subShapeList[0]
name = &quot;box_face&quot;
print name
idface= batchmode_geompy.addToStudyInFather(box,face,name)

# ---- add shell from box &nbsp;in study

subShellList= batchmode_geompy.SubShapeAll(box,ShapeType[&quot;Shell&quot;])
shell = subShellList[0]
name = &quot;box_shell&quot;
print name
idshell= batchmode_geompy.addToStudyInFather(box,shell,name)

# ---- add first edge of face in study

edgeList = &nbsp;batchmode_geompy.SubShapeAll(face,ShapeType[&quot;Edge&quot;])
edge=edgeList[0];
name = &quot;face_edge&quot;
print name
idedge= batchmode_geompy.addToStudyInFather(face,edge,name)

# ---- launch SMESH, init a Mesh with the box

smesh = &nbsp;batchmode_smesh.smesh
# &nbsp;-- &nbsp;Init &nbsp;--
shape = batchmode_geompy.IDToObject(idbox)
mesh=smesh.Init(geom, batchmode_geompy.myStudyId, shape)

orb = batchmode_geompy.orb

idmesh = batchmode_smesh.AddNewMesh( orb.object_to_string(mesh) )
batchmode_smesh.SetName(idmesh, &quot;Meshbox&quot;);
batchmode_smesh.SetShape(idbox, idmesh);

# ---- create Hypothesis

print &quot;-------------------------- create Hypothesis ----------------------&quot;
print &quot;-------------------------- LocalLength&quot;
hyp1 = smesh.CreateHypothesis(&quot;LocalLength&quot;, batchmode_geompy.myStudyId )
hypLen1 = hyp1._narrow(SMESH.SMESH_LocalLength)
hypLen1.SetLength(100)
print hypLen1.GetName()
print hypLen1.GetId()
print hypLen1.GetLength()

idlength = batchmode_smesh.AddNewHypothesis( orb.object_to_string(hypLen1) );
batchmode_smesh.SetName(idlength, &quot;Local_Length_100&quot;);

print &quot;-------------------------- NumberOfSegments&quot;
hyp2 = &nbsp;smesh.CreateHypothesis(&quot;NumberOfSegments&quot;, batchmode_geompy.myStudyId )
hypNbSeg1=hyp2._narrow(SMESH.SMESH_NumberOfSegments)
hypNbSeg1.SetNumberOfSegments(7)
print hypNbSeg1.GetName()
print hypNbSeg1.GetId()
print hypNbSeg1.GetNumberOfSegments()

idseg = &nbsp;batchmode_smesh.AddNewHypothesis( orb.object_to_string(hypNbSeg1) );
batchmode_smesh.SetName(idseg, &quot;NumberOfSegments_7&quot;);

print &quot;-------------------------- MaxElementArea&quot;
hyp3 = smesh.CreateHypothesis(&quot;MaxElementArea&quot;, &nbsp;batchmode_geompy.myStudyId)
hypArea1=hyp3._narrow(SMESH.SMESH_MaxElementArea)
hypArea1.SetMaxElementArea(2500)
print hypArea1.GetName()
print hypArea1.GetId()
print hypArea1.GetMaxElementArea()

idarea1 = batchmode_smesh.AddNewHypothesis( orb.object_to_string(hypArea1) );
batchmode_smesh.SetName(idarea1, &quot;MaxElementArea_2500&quot;);

print &quot;-------------------------- MaxElementArea&quot;
hyp3 = smesh.CreateHypothesis(&quot;MaxElementArea&quot;, &nbsp;batchmode_geompy.myStudyId)
hypArea2 = hyp3._narrow(SMESH.SMESH_MaxElementArea)
hypArea2.SetMaxElementArea(500)
print hypArea2.GetName()
print hypArea2.GetId()
print hypArea2.GetMaxElementArea()

idarea2 = batchmode_smesh.AddNewHypothesis( orb.object_to_string(hypArea2) );
batchmode_smesh.SetName(idarea2, &quot;MaxElementArea_500&quot;);

print &quot;-------------------------- Regular_1D&quot;
alg1 = smesh.CreateHypothesis(&quot;Regular_1D&quot;, &nbsp;batchmode_geompy.myStudyId)
algo1 = alg1._narrow(SMESH.SMESH_Algo)
listHyp = algo1.GetCompatibleHypothesis()
for hyp in listHyp:
 &nbsp; &nbsp;print hyp
algoReg=alg1._narrow(SMESH.SMESH_Regular_1D)
print algoReg.GetName()
print algoReg.GetId()

idreg = batchmode_smesh.AddNewAlgorithms( orb.object_to_string(algoReg) );
batchmode_smesh.SetName(idreg, &quot;Regular_1D&quot;);

print &quot;-------------------------- MEFISTO_2D&quot;
alg2 = smesh.CreateHypothesis(&quot;MEFISTO_2D&quot;, &nbsp;batchmode_geompy.myStudyId)
algo2 = alg2._narrow(SMESH.SMESH_Algo)
listHyp=algo2.GetCompatibleHypothesis()
for hyp in listHyp:
 &nbsp; &nbsp;print hyp
algoMef=alg2._narrow(SMESH.SMESH_MEFISTO_2D)
print algoMef.GetName()
print algoMef.GetId()

idmef = batchmode_smesh.AddNewAlgorithms( orb.object_to_string(algoMef) );
batchmode_smesh.SetName(idmef, &quot;MEFISTO_2D&quot;);


# ---- add hypothesis to edge

print &quot;-------------------------- add hypothesis to edge&quot;
edge = batchmode_geompy.IDToObject(idedge)
submesh = mesh.GetElementsOnShape(edge)
ret = mesh.AddHypothesis(edge,algoReg)
print ret
ret=mesh.AddHypothesis(edge,hypLen1)
print ret

idsm1 = batchmode_smesh.AddSubMeshOnShape( idmesh,
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; idedge,
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; orb.object_to_string(submesh),
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ShapeType[&quot;Edge&quot;] )
batchmode_smesh.SetName(idsm1, &quot;SubMeshEdge&quot;)
batchmode_smesh.SetAlgorithms( idsm1, idreg );
batchmode_smesh.SetHypothesis( idsm1, idlength );

print &quot;-------------------------- add hypothesis to face&quot;
face=batchmode_geompy.IDToObject(idface)
submesh=mesh.GetElementsOnShape(face)
ret=mesh.AddHypothesis(face,hypArea2)
print ret

idsm2 = batchmode_smesh.AddSubMeshOnShape( idmesh,
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;idface,
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;orb.object_to_string(submesh),
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ShapeType[&quot;Face&quot;] )
batchmode_smesh.SetName(idsm2, &quot;SubMeshFace&quot;)
batchmode_smesh.SetHypothesis( idsm2, idarea2 );

# ---- add hypothesis to box

print &quot;-------------------------- add hypothesis to box&quot;
box=batchmode_geompy.IDToObject(idbox)
submesh=mesh.GetElementsOnShape(box)
ret=mesh.AddHypothesis(box,algoReg)
print ret
ret=mesh.AddHypothesis(box,hypNbSeg1)
print ret
ret=mesh.AddHypothesis(box,algoMef)
print ret
ret=mesh.AddHypothesis(box,hypArea1)
print ret

batchmode_smesh.SetAlgorithms( idmesh, idreg );
batchmode_smesh.SetHypothesis( idmesh, idseg );
batchmode_smesh.SetAlgorithms( idmesh, idmef );
batchmode_smesh.SetHypothesis( idmesh, idarea1 );

# ---- compute box

print &quot;-------------------------- compute box&quot;
ret=smesh.Compute(mesh,box)
print ret
log=mesh.GetLog(0); # no erase trace
for linelog in log:
 &nbsp; &nbsp;print linelog


#=======================================================
# &nbsp; &nbsp;add &nbsp;SuperVision component
#=======================================================

from batchmode_SuperV import *
import os
dir= os.getenv(&quot;SUPERV_ROOT_DIR&quot;)
if dir == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeError, &quot;SUPERV_ROOT_DIR is not defined&quot;
xmlfile = dir +&quot;/examples/GraphEssai.xml&quot;
print &quot;--------------\n&quot;+xmlfile+&quot;\n--------------\n&quot;

myGraph = Graph ( xmlfile )

# This DataFlow is &quot;valid&quot; : no loop, correct links between Nodes etc...
print myGraph.IsValid()

# Get Nodes
myGraph.PrintNodes()
Add,Sub,Mul,Div = myGraph.Nodes()

# Load Datas
Addx = Add.Input(&quot;x&quot;,3.)
Addy = Add.Input(&quot;y&quot;,4.5)
Subx = Sub.Input(&quot;x&quot;,1.5)

# Get Output Port
Addz = Add.Port('z')
Subz = Sub.Port('z')
Mulz = Mul.Port('z')
Divz = Div.Port('z')

# This DataFlow is &quot;executable&quot; : all pending Ports are defined with Datas
print myGraph.IsExecutable()

# Starts only execution of that DataFlow and gets control immediatly
print myGraph.Run()

# That DataFlow is running ==&gt; 0 (false)
print myGraph.IsDone()

# Events of execution :
aStatus,aNode,anEvent,aState = myGraph.Event()
while aStatus :
 &nbsp; &nbsp;print aNode.Thread(),aNode.SubGraph(),aNode.Name(),anEvent,aState
 &nbsp; &nbsp;aStatus,aNode,anEvent,aState = myGraph.Event()
print myGraph.IsDone()

# Wait for Completion (but it is already done after event loop ...)
print &quot;Done : &quot;,myGraph.DoneW()

# Get result
print &quot;Result : &quot;,Divz.ToString()

# Intermediate results :
print &quot;Intermediate Result Add\z : &quot;,Addz.ToString()
print &quot;Intermediate Result Sub\z : &quot;,Subz.ToString()
print &quot;Intermediate Result Mul\z : &quot;,Mulz.ToString()

print &quot; &quot;
#print &quot;Type : print myGraph.IsDone()&quot;
#print &quot; &nbsp; &nbsp; &nbsp; If execution is finished ==&gt; 1 (true)&quot;
res=myGraph.IsDone()
if res != 1:
 &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeError, &quot;myGraph.Run() is not done&quot;

print &quot; &quot;
print &quot;Type : print Divz.ToString()&quot;
print &quot; &nbsp; &nbsp; &nbsp; You will get the result&quot;
Divz.ToString()

print &quot; &quot;
print &quot;Type : myGraph.PrintPorts()&quot;
print &quot; &nbsp; &nbsp; &nbsp; to see input and output values of the graph&quot;
myGraph.PrintPorts()

print &quot; &quot;
print &quot;Type : Add.PrintPorts()&quot;
Add.PrintPorts()

print &quot;Type : Sub.PrintPorts()&quot;
Sub.PrintPorts()

print &quot;Type : Mul.PrintPorts()&quot;
Mul.PrintPorts()

print &quot;Type : Div.PrintPorts()&quot;
print &quot; &nbsp; &nbsp; &nbsp; to see input and output values of nodes&quot;
Div.PrintPorts()

# Export will create newsupervisionexample.xml and the corresponding .py file
tmpdir=os.getenv(&quot;TmpDir&quot;)
if tmpdir is None:
 &nbsp; &nbsp; &nbsp; &nbsp;tmpdir=&quot;/tmp&quot;
file = tmpdir + &quot;/newsupervisionexample&quot;
print &quot;--------------\n&quot;+file+&quot;\n--------------\n&quot;
myGraph.Export(file)

ior = batchmode_geompy.orb.object_to_string(myGraph.G)
addStudy(ior)

GraphName = myGraph.Name()
print &quot;Befor save &quot;,
nodes = myGraph.Nodes()
length_bs = len(nodes)
print &quot;ListOfNodes length = &quot;, length_bs
names=[]
for node in nodes:
 &nbsp; &nbsp; &nbsp; &nbsp;names.append(node.Name())
print names


#=================================
# &nbsp; &nbsp; &nbsp;save / restore study &nbsp; &nbsp; &nbsp;
#=================================
str= os.getenv(&quot;TmpDir&quot;)
if str == None: &nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp;str = &quot;/tmp&quot;
file = str+&quot;/test.hdf&quot;


#==================================================
#1. SaveAs
#==================================================
print &quot; ------- &nbsp;We will save to&quot;, file, &quot;-----------&quot;

batchmode_geompy.myStudyManager.SaveAs(file, batchmode_geompy.myStudy)
batchmode_geompy.myStudyManager.Close(batchmode_geompy.myStudy)

#rename the file and try to reread it again

os.mkdir(str + &quot;/test_dir&quot;)

#2.==================================================
print &quot; ------- We rename the file as &quot; + str + &quot;/test_dir/test_new.hdf&quot;
os.rename(file, str+&quot;/test_dir/test_new.hdf&quot;)

#==================================================
#3. Open
#==================================================
print &quot; ------- We try to open &quot; + str + &quot;/test_dir/test_new.hdf&quot;

try:
 &nbsp; &nbsp; &nbsp; &nbsp;openedStudy=batchmode_geompy.myStudyManager.Open(str+&quot;/test_dir/test_new.hdf&quot;)
except Exception:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't open saved study!&quot;

if openedStudy == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't open saved study!&quot;

father = openedStudy.FindComponent(&quot;GEOM&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;GEOM component is not found! &nbsp;Wrong study is opened.&quot; 


#=================================
# &nbsp; &nbsp; find AttributeReal
#=================================

res,A=father.FindAttribute(&quot;AttributeReal&quot;)
if res == 0 or A == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error: &nbsp;not found AttributeReal&quot;

A = A._narrow(SALOMEDS.AttributeReal)
if A.Value() != 0.0001:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error : wrong value of &nbsp;AttributeReal&quot;

#==================================================
# &nbsp; &nbsp; find &nbsp;box
#==================================================
box = openedStudy.FindObject(&quot;box&quot;)
if box is None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;box was not found! Wrong study is opened.&quot;

edge=openedStudy.FindObject(&quot;face_edge&quot;)
if edge is None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;face_edge was not found! Wrong study is opened.&quot;


father = openedStudy.FindComponent(&quot;MESH&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;MESH component is not found! &nbsp;Wrong study is opened.&quot; 

hp=openedStudy.FindObject(&quot;Meshbox&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Meshbox object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;Algorithms Definition&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Algorithms Definition object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;MEFISTO_2D&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;MEFISTO_2D object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;Hypothesis Definition&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Algoriths Definition was not found! Wrong study is opened.&quot;

#==================================================
# Find Supervisor
#==================================================
father = openedStudy.FindComponent(&quot;SUPERV&quot;)
if father is None: 
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;SUPERV component is not found! &nbsp;Wrong study is opened.&quot; 

SuperV = lcc.FindOrLoadComponent(&quot;SuperVisionContainer&quot;,&quot;Supervision&quot;)
Builder = openedStudy.NewBuilder()
Builder.LoadWith(father, SuperV)
import SALOMEDS

aChildIterator = openedStudy.NewChildIterator(father)

#while aChildIterator.More():
anSObject = aChildIterator.Value()
#print &quot;iterate: &quot;, anSObject.GetID()
res, anAttr=anSObject.FindAttribute(&quot;AttributeIOR&quot;)
if res :
 &nbsp; &nbsp; &nbsp; &nbsp;anAttr=anAttr._narrow(SALOMEDS.AttributeIOR)
 &nbsp; &nbsp; &nbsp; &nbsp;ior = anAttr.Value()
 &nbsp; &nbsp; &nbsp; &nbsp;Graph=SuperV.getGraph(ior)
 &nbsp; &nbsp; &nbsp; &nbsp;ListOfNodes=Graph.Nodes()
 &nbsp; &nbsp; &nbsp; &nbsp;length_as= len(ListOfNodes)
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;ListOfNodes length = &quot;, length_as
 &nbsp; &nbsp; &nbsp; &nbsp;if length_as != length_bs:
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeErrror, &quot;defferent length of nodes after study open&quot;
#aChildIterator.Next()

Names = []
for node in ListOfNodes:
 &nbsp; &nbsp; &nbsp; &nbsp;Names.append(node.Name())
names.sort()
Names.sort()
if names != Names :
 &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeError, &quot;List of dataflow nodes after save differs from one befor save operation&quot;

#==================================================
#4. Save
#==================================================
batchmode_geompy.myStudyManager.Save(openedStudy)
batchmode_geompy.myStudyManager.Close(openedStudy)
#==================================================
#5. Open
#==================================================
try:
 &nbsp; &nbsp; &nbsp; &nbsp;openedStudy = batchmode_geompy.myStudyManager.Open(str+&quot;/test_dir/test_new.hdf&quot;)
except Exception:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't open saved study!&quot;



if openedStudy == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't open saved study!&quot;

father = openedStudy.FindComponent(&quot;GEOM&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;Geom component is not found! &nbsp;Wrong study is opened.&quot; 


#find AttributeReal
res,A=father.FindAttribute(&quot;AttributeReal&quot;)
if res == 0 or A == None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error: &nbsp;not found AttributeReal&quot;

A = A._narrow(SALOMEDS.AttributeReal)
if A.Value() != 0.0001:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Error : wrong value of &nbsp;AttributeReal&quot;
#==================================================
# &nbsp; &nbsp; find &nbsp;box
#==================================================
box = openedStudy.FindObject(&quot;box&quot;)
if box is None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;box was not found! Wrong study is opened.&quot;

edge=openedStudy.FindObject(&quot;face_edge&quot;)
if edge is None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;face_edge was not found! Wrong study is opened.&quot;


father = openedStudy.FindComponent(&quot;MESH&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;MESH component is not found! &nbsp;Wrong study is opened.&quot; 

hp=openedStudy.FindObject(&quot;Meshbox&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Meshbox object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;Algorithms Definition&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Algorithms Definition object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;MEFISTO_2D&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;MEFISTO_2D object was not found! Wrong study is opened.&quot;

hp = openedStudy.FindObject(&quot;Hypothesis Definition&quot;)
if hp is None:
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Algoriths Definition was not found! Wrong study is opened.&quot;

#==================================================
# Find Supervisor
#==================================================
father = openedStudy.FindComponent(&quot;SUPERV&quot;)
if father is None:
 &nbsp; &nbsp; &nbsp; &nbsp; raise &nbsp;RuntimeError, &quot;SUPERV component is not found! &nbsp;Wrong study is opened.&quot; 

SuperV = lcc.FindOrLoadComponent(&quot;SuperVisionContainer&quot;,&quot;Supervision&quot;)
Builder = openedStudy.NewBuilder()
Builder.LoadWith(father, SuperV)
import SALOMEDS

aChildIterator = openedStudy.NewChildIterator(father)

#while aChildIterator.More():
anSObject = aChildIterator.Value()

res, anAttr=anSObject.FindAttribute(&quot;AttributeIOR&quot;)
if res :
 &nbsp; &nbsp; &nbsp; &nbsp;anAttr=anAttr._narrow(SALOMEDS.AttributeIOR)
 &nbsp; &nbsp; &nbsp; &nbsp;ior = anAttr.Value()
 &nbsp; &nbsp; &nbsp; &nbsp;Graph=SuperV.getGraph(ior)
 &nbsp; &nbsp; &nbsp; &nbsp;ListOfNodes=Graph.Nodes()
 &nbsp; &nbsp; &nbsp; &nbsp;length_as= len(ListOfNodes)
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;ListOfNodes length = &quot;, length_as
 &nbsp; &nbsp; &nbsp; &nbsp;if length_as != length_bs:
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeErrror, &quot;defferent length of nodes after study open&quot;
#aChildIterator.Next()

Names = []
for node in ListOfNodes:
 &nbsp; &nbsp; &nbsp; &nbsp;Names.append(node.Name())
names.sort()
Names.sort()
if names != Names :
 &nbsp; &nbsp; &nbsp; &nbsp;raise RuntimeError, &quot;List of dataflow nodes after save differs from one befor save operation&quot;
</PRE>
