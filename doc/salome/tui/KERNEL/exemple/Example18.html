<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<HEAD>
<!-- hennerik CVSweb $Revision$ -->
<TITLE>Example</TITLE></HEAD>
<BODY BGCOLOR="#eeeeee">
<HR noshade><PRE>#%AttributeTreeNode interface(creations/saving/restoring)%
#%SALOMEDS methods : FindOrCreateAttribute, NewObject%
#%Attribute methods : HasFirst, HasFather, SetPrevious, Next, InsertAfter, GetFather, HasNext, SetValue, Append, NewStudy, Label, IsRoot, Prepend, SetFather, Depth, HasPrevious%

child1 = batchmode_geompy.myBuilder.NewObject(batchmode_geompy.father)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child1,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N1&quot;)
N1 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child1, &quot;AttributeTreeNode&quot;)
if N1 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child2 = batchmode_geompy.myBuilder.NewObject(batchmode_geompy.father)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child2,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N2&quot;)
N2 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child2, &quot;AttributeTreeNode&quot;)
if N2 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child3 = batchmode_geompy.myBuilder.NewObject(batchmode_geompy.father)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child3,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N3&quot;)
N3 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child3, &quot;AttributeTreeNode&quot;)
if N3 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;


child11 = batchmode_geompy.myBuilder.NewObject(child1)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child11,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N11&quot;)

N11 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child11, &quot;AttributeTreeNode&quot;)

if N11 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child111 = batchmode_geompy.myBuilder.NewObject(child11)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child111, &quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N111&quot;)

N111 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child111, &quot;AttributeTreeNode&quot;)

if N111 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;
 

child31 = batchmode_geompy.myBuilder.NewObject(child3)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child31,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N31&quot;)

N31 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child31, &quot;AttributeTreeNode&quot;)
if N31 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child32 = batchmode_geompy.myBuilder.NewObject(child3)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child32,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N32&quot;)

N32 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child32, &quot;AttributeTreeNode&quot;)
if N32 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child321 = batchmode_geompy.myBuilder.NewObject(child32)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child321,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N321&quot;)

N321 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child321, &quot;AttributeTreeNode&quot;)
if N321 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child33 = batchmode_geompy.myBuilder.NewObject(child3)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child33,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N33&quot;)

N33 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child33, &quot;AttributeTreeNode&quot;)
if N33 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;

child34 = batchmode_geompy.myBuilder.NewObject(child3)
A = batchmode_geompy.myBuilder.FindOrCreateAttribute(child34,&quot;AttributeName&quot;)
if A == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeName attribute&quot;
A = A._narrow(SALOMEDS.AttributeName)
A.SetValue(&quot;N34&quot;)

N34 = batchmode_geompy.myBuilder.FindOrCreateAttribute(child34, &quot;AttributeTreeNode&quot;)
if N34 == None :
 &nbsp; &nbsp; &nbsp; &nbsp;raise &nbsp;RuntimeError, &quot;Can't create AttributeTreeNode attribute&quot;



#Create links between tree nodes.
# &nbsp;-| root
# &nbsp; --N1 __
# &nbsp; | &nbsp; &nbsp; N11__
# &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; N111
# &nbsp; --N2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
# &nbsp; | &nbsp; 
# &nbsp; --N3__
# &nbsp; &nbsp; &nbsp; &nbsp; N31
# &nbsp; &nbsp; &nbsp; &nbsp; N32__
# &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;N321
# &nbsp; &nbsp; &nbsp; &nbsp; N33
# &nbsp; &nbsp; &nbsp; &nbsp; N34
 &nbsp; &nbsp; &nbsp; &nbsp;
N11.SetFather(N1)
N11.Append(N111)
N3.SetPrevious(N1)
N3.Prepend(N2)

N32.SetFather(N3)
N32.Prepend(N31)
N33.InsertAfter(N32)
N33.Append(N34)
print &quot;------------- &nbsp;&quot;, N1, &quot; &nbsp;------------- &nbsp;&quot;
print &quot;N1.Label() = &quot;, N1.Label() , &quot;IsRoot() = &quot;, N1.IsRoot(), &quot;Depth() = &quot;, N1.Depth()
print &quot;N11.Label() = &quot;, N11.Label() , &quot;IsRoot() = &quot;, N11.IsRoot(), &quot;Depth() = &quot;, N11.Depth()
print &quot;N111.Label() = &quot;, N111.Label() , &quot;IsRoot() = &quot;, N111.IsRoot(), &quot;Depth() = &quot;, N111.Depth()
print &quot;N2.Label() = &quot;, N2.Label() , &quot;IsRoot() = &quot;, &nbsp;N2.IsRoot(), &quot;Depth() = &quot;, N2.Depth()
print &quot;N3.Label() = &quot;, N3.Label() , &quot;IsRoot() = &quot;, N3.IsRoot(), &quot;Depth() = &quot;, N3.Depth()
print &quot;N31.Label() = &quot;, N31.Label() , &quot;IsRoot() = &quot;, N31.IsRoot(), &quot;Depth() = &quot;, N31.Depth()
print &quot;N32.Label() = &quot;, N32.Label() , &quot;IsRoot() = &quot;, N32.IsRoot(), &quot;Depth() = &quot;, N32.Depth()
print &quot;N321.Label() = &quot;, N321.Label() , &quot;IsRoot() = &quot;, N321.IsRoot(), &quot;Depth() = &quot;, N321.Depth()
print &quot;N33.Label() = &quot;, N33.Label() , &quot;IsRoot() = &quot;, N33.IsRoot(), &quot;Depth() = &quot;, N33.Depth()
print &quot;N34.Label() = &quot;, N34.Label() , &quot;IsRoot() = &quot;, N34.IsRoot(), &quot;Depth() = &quot;, N34.Depth()
print &quot;N1.IsRoot()=&quot;, N1.IsRoot()

print &quot;N1.HasNext() = &quot;,N1.HasNext()
if &nbsp;N1.HasNext():
 &nbsp; &nbsp; &nbsp; &nbsp;print N1.Next().Label()

print &quot;N32.HasPrevious() = &quot;,N32.HasPrevious()
if &nbsp;N32.HasPrevious():
 &nbsp; &nbsp; &nbsp; &nbsp;print N32.GetPrevious().Label()

print &quot;N111.HasFirst()=&quot;,N111.HasFirst()
print &quot;N111.HasFather()=&quot;,N111.HasFather()
if N111.HasFather() :
 &nbsp; &nbsp; &nbsp; &nbsp;print &quot;N111.GetFather().Label()=&quot;,N111.GetFather().Label()
</PRE>