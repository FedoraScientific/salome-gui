# Copyright (C) 2007-2012  CEA/DEN, EDF R&D, OPEN CASCADE
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 2.1 of the License.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
#
# See http://www.salome-platform.org/ or email : webmaster.salome@opencascade.com
#

# SET(OCC_VERSION_MAJOR 6)
# SET(OCC_VERSION_MINOR 3)
# SET(OCC_VERSION_MAINTENANCE 10)
SET(CAS_VERSION_DEVELOPMENT 0)

FIND_FILE(ff Standard_Version.hxx)

IF(ff)
  FILE(STRINGS ${ff} CAS_VERSION_DEVELOPMENT_STR
      REGEX "^ *#define OCC_VERSION_DEVELOPMENT *\"dev\".*$")
  IF(CAS_VERSION_DEVELOPMENT_STR)
    SET(CAS_VERSION_DEVELOPMENT 1)
  ENDIF(CAS_VERSION_DEVELOPMENT_STR)
ENDIF(ff)

SET(CAS_DEFINITIONS "-DLIN -DLINTEL -DCSFDB")
SET(CAS_DEFINITIONS "${CAS_DEFINITIONS} -DNo_exception")
SET(CAS_DEFINITIONS "${CAS_DEFINITIONS} -DHAVE_CONFIG_H")
SET(CAS_INCLUDE_DIRS ${CAS_ROOT_DIR}/inc)

IF(CMAKE_SIZEOF_VOID_P STREQUAL 8)
  SET(CAS_DEFINITIONS "${CAS_DEFINITIONS} -D_OCC64")
ENDIF(CMAKE_SIZEOF_VOID_P STREQUAL 8)

IF(CAS_VERSION_DEVELOPMENT STREQUAL 1)
  SET(CAS_DEFINITIONS "${CAS_DEFINITIONS} -DCAS_VERSION_DEVELOPMENT")
ENDIF(CAS_VERSION_DEVELOPMENT STREQUAL 1)

IF(NOT WINDOWS)
  FIND_LIBRARY(CAS_Xmu Xmu)
  IF(Xmu)
    SET(CAS_LDPATH ${Xmu})
  ENDIF(Xmu)
ENDIF(NOT WINDOWS)

FIND_LIBRARY(CAS_BinLPlugin BinLPlugin )
FIND_LIBRARY(CAS_BinPlugin BinPlugin )
FIND_LIBRARY(CAS_BinTObjPlugin BinTObjPlugin )
FIND_LIBRARY(CAS_BinXCAFPlugin BinXCAFPlugin )
FIND_LIBRARY(CAS_FWOSPlugin FWOSPlugin )
# FIND_LIBRARY(CAS_mscmd mscmd )
FIND_LIBRARY(CAS_PTKernel PTKernel )
FIND_LIBRARY(CAS_StdLPlugin StdLPlugin )
FIND_LIBRARY(CAS_StdPlugin StdPlugin )
FIND_LIBRARY(CAS_TKAdvTools TKAdvTools )
FIND_LIBRARY(CAS_TKBin TKBin )
FIND_LIBRARY(CAS_TKBinL TKBinL )
FIND_LIBRARY(CAS_TKBinTObj TKBinTObj )
FIND_LIBRARY(CAS_TKBinXCAF TKBinXCAF )
FIND_LIBRARY(CAS_TKBO TKBO )
FIND_LIBRARY(CAS_TKBool TKBool )
FIND_LIBRARY(CAS_TKBRep TKBRep )
FIND_LIBRARY(CAS_TKCAF TKCAF )
FIND_LIBRARY(CAS_TKCDF TKCDF )
# FIND_LIBRARY(CAS_TKCDLFront TKCDLFront )
# FIND_LIBRARY(CAS_TKCPPClient TKCPPClient )
# FIND_LIBRARY(CAS_TKCPPExt TKCPPExt )
# FIND_LIBRARY(CAS_TKCPPIntExt TKCPPIntExt )
# FIND_LIBRARY(CAS_TKCPPJini TKCPPJini )
# FIND_LIBRARY(CAS_TKCSFDBSchema TKCSFDBSchema )
# FIND_LIBRARY(CAS_TKDCAF TKDCAF )
# FIND_LIBRARY(CAS_TKDraw TKDraw )
FIND_LIBRARY(CAS_TKernel TKernel )
FIND_LIBRARY(CAS_TKFeat TKFeat )
FIND_LIBRARY(CAS_TKFillet TKFillet )
FIND_LIBRARY(CAS_TKG2d TKG2d )
FIND_LIBRARY(CAS_TKG3d TKG3d )
FIND_LIBRARY(CAS_TKGeomAlgo TKGeomAlgo )
FIND_LIBRARY(CAS_TKGeomBase TKGeomBase )
FIND_LIBRARY(CAS_TKHLR TKHLR )
# FIND_LIBRARY(CAS_TKIDLFront TKIDLFront )
FIND_LIBRARY(CAS_TKIGES TKIGES )
FIND_LIBRARY(CAS_TKLCAF TKLCAF )
FIND_LIBRARY(CAS_TKMath TKMath )
FIND_LIBRARY(CAS_TKMesh TKMesh )
FIND_LIBRARY(CAS_TKMeshVS TKMeshVS )
FIND_LIBRARY(CAS_TKNIS TKNIS )
FIND_LIBRARY(CAS_TKOffset TKOffset )
FIND_LIBRARY(CAS_TKOpenGl TKOpenGl )
FIND_LIBRARY(CAS_TKPCAF TKPCAF )
FIND_LIBRARY(CAS_TKPLCAF TKPLCAF )
FIND_LIBRARY(CAS_TKPrim TKPrim )
FIND_LIBRARY(CAS_TKPShape TKPShape )
FIND_LIBRARY(CAS_TKService TKService )
FIND_LIBRARY(CAS_TKShapeSchema TKShapeSchema )
FIND_LIBRARY(CAS_TKShHealing TKShHealing )
FIND_LIBRARY(CAS_TKStdLSchema TKStdLSchema )
FIND_LIBRARY(CAS_TKStdSchema TKStdSchema )
FIND_LIBRARY(CAS_TKSTEP TKSTEP )
FIND_LIBRARY(CAS_TKSTEP209 TKSTEP209 )
FIND_LIBRARY(CAS_TKSTEPAttr TKSTEPAttr )
FIND_LIBRARY(CAS_TKSTEPBase TKSTEPBase )
FIND_LIBRARY(CAS_TKSTL TKSTL )
# FIND_LIBRARY(CAS_TKTCPPExt TKTCPPExt )
FIND_LIBRARY(CAS_TKTObj TKTObj )
# FIND_LIBRARY(CAS_TKTObjDRAW TKTObjDRAW )
FIND_LIBRARY(CAS_TKTopAlgo TKTopAlgo )
# FIND_LIBRARY(CAS_TKTopTest TKTopTest )
FIND_LIBRARY(CAS_TKV2d TKV2d )
FIND_LIBRARY(CAS_TKV3d TKV3d )
# FIND_LIBRARY(CAS_TKViewerTest TKViewerTest )
FIND_LIBRARY(CAS_TKVRML TKVRML )
# FIND_LIBRARY(CAS_TKWOK TKWOK )
# FIND_LIBRARY(CAS_TKWOKTcl TKWOKTcl )
FIND_LIBRARY(CAS_TKXCAF TKXCAF )
FIND_LIBRARY(CAS_TKXCAFSchema TKXCAFSchema )
# FIND_LIBRARY(CAS_TKXDEDRAW TKXDEDRAW )
FIND_LIBRARY(CAS_TKXDEIGES TKXDEIGES )
FIND_LIBRARY(CAS_TKXDESTEP TKXDESTEP )
FIND_LIBRARY(CAS_TKXMesh TKXMesh )
FIND_LIBRARY(CAS_TKXml TKXml )
FIND_LIBRARY(CAS_TKXmlL TKXmlL )
FIND_LIBRARY(CAS_TKXmlTObj TKXmlTObj )
FIND_LIBRARY(CAS_TKXmlXCAF TKXmlXCAF )
FIND_LIBRARY(CAS_TKXSBase TKXSBase )
# FIND_LIBRARY(CAS_TKXSDRAW TKXSDRAW )
# FIND_LIBRARY(CAS_wokcmd wokcmd )
# FIND_LIBRARY(CAS_wokdeliverysteps wokdeliverysteps )
# FIND_LIBRARY(CAS_wokdfltsteps wokdfltsteps )
# FIND_LIBRARY(CAS_wokobjssteps wokobjssteps )
# FIND_LIBRARY(CAS_wokorbixsteps wokorbixsteps )
# FIND_LIBRARY(CAS_woksteps woksteps )
# FIND_LIBRARY(CAS_woktoolscmd woktoolscmd )
# FIND_LIBRARY(CAS_wokutilscmd wokutilscmd )
FIND_LIBRARY(CAS_XCAFPlugin XCAFPlugin )
FIND_LIBRARY(CAS_XmlLPlugin XmlLPlugin )
FIND_LIBRARY(CAS_XmlPlugin XmlPlugin )
FIND_LIBRARY(CAS_XmlTObjPlugin XmlTObjPlugin )
FIND_LIBRARY(CAS_XmlXCAFPlugin XmlXCAFPlugin )

SET(CAS_KERNEL ${CAS_TKernel} ${CAS_TKMath})
SET(CAS_OCAF ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKCDF} ${CAS_TKLCAF})
SET(CAS_VIEWER ${CAS_TKService} ${CAS_TKV3d} ${CAS_TKG3d} ${CAS_TKGeomBase} ${CAS_TKBRep})
SET(CAS_OCAFVIS ${CAS_TKCAF} ${CAS_TKBRep} ${CAS_TKG2d})
SET(CAS_MODELER ${CAS_TKG3d} ${CAS_TKGeomBase} ${CAS_TKGeomAlgo} ${CAS_TKBRep} ${CAS_TKTopAlgo} ${CAS_TKG2d})

SET(CAS_TKV3d_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKV3d})
SET(CAS_TKBool_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKBRep} ${CAS_TKG2d} ${CAS_TKG3d} ${CAS_TKGeomBase} ${CAS_TKGeomAlgo} ${CAS_TKTopAlgo} ${CAS_TKBool})
SET(CAS_TKBRep_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKBRep})
SET(CAS_TKIGES_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKXSBase} ${CAS_TKBRep} ${CAS_TKIGES})
SET(CAS_TKSTEP_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKXSBase} ${CAS_TKBRep} ${CAS_TKSTEP})
SET(CAS_TKSTL_EA ${CAS_TKernel} ${CAS_TKMath} ${CAS_TKSTL})
SET(CAS_TKCAF_EA ${CAS_TKPrim} ${CAS_TKCAF})

SET(CAS_TKV3d ${CAS_TKV3d_EA})
SET(CAS_TKBool ${CAS_TKBool_EA})
SET(CAS_TKBRep ${CAS_TKBRep_EA})
SET(CAS_TKIGES ${CAS_TKIGES_EA})
SET(CAS_TKSTEP ${CAS_TKSTEP_EA})
SET(CAS_TKSTL ${CAS_TKSTL_EA})
SET(CAS_TKCAF ${CAS_TKCAF_EA})
